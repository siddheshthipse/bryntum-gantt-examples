.b-grid-row {
    border-bottom : 0;
}

.b-gantt:not(.b-columnlines) .b-grid-header {
    border-inline-end : 0;
}

.b-sch-header-row .b-sch-header-timeaxis-cell {
    border-bottom : 0;
}


.b-sch-header-row-1,
.b-sch-header-row-2 {
    .b-gantt:not(.b-hide-weekends) & {
        .b-sch-header-timeaxis-cell:not(.b-sch-dayheadercell-0) {
            border : 0;
        }
    }

    .b-gantt.b-hide-weekends & {
        .b-sch-header-timeaxis-cell:not(.b-sch-dayheadercell-1) {
            border : 0;
        }
    }
}

.b-gridbase.b-split .b-grid-splitter:not(.b-disabled) {
    flex : 0 0 2px;

    .b-grid-splitter-inner {
        width : 2px;
    }
}

.b-tree-expander {
    color             : inherit;
    margin-inline-end : 1em;
}

.b-child-count {
    display             : flex;
    align-items         : center;
    justify-content     : center;
    width               : 1.8em;
    height              : 1.8em;
    background          : var(--color-blue);
    color               : #fff;
    border-radius       : 0.5em;
    font-size           : .8em;
    margin-inline-start : 2em;
}

.b-icon-tree-leaf {
    visibility          : hidden;
    margin-inline-start : -1.1em;
}

.b-grid-header-container .b-sch-timeaxiscolumn,
.b-grid-header-container {
    background-color : transparent;
}

.b-gantt-task-parent:not(.b-milestone-wrap) .b-gantt-task {
    border-radius : 5px 5px 0 0;
    max-height    : 1.6em;
}

.b-gantt {
    --task-border-radius : 5px;
}

.b-gantt-task {
    border-radius : var(--task-border-radius);

    &.b-milestone .b-gantt-task-content:before {
        border-radius : 3px;
    }
}


body.b-theme-classic-dark {
    .b-gantt-task-wrap {
        filter : drop-shadow(1px 2px 8px #333);
    }

    .b-horizontaltimeaxis {
        .b-sch-header-row-0 .b-sch-header-timeaxis-cell {
            color : #1f88e5;
        }

        .b-sch-header-row-1 .b-sch-header-timeaxis-cell,
        .b-sch-header-row-2 .b-sch-header-timeaxis-cell {
            color : #eee;
        }
    }

    .b-sidebar {
        border-color : #2b2b2f;

        .b-panel-body-wrap {
            background-color : #44444a;
        }
    }

    .b-scroll-button {
        background : #222;
        box-shadow : 0 1px 2px 0 #333, 0 1px 3px 1px #333;
        color      : #aaa;

        &:hover {
            color : #fff;
        }
    }
}

body:not(.b-theme-classic-dark) {

    .b-grid-header-container {
        border-bottom : none;
    }

    .b-horizontaltimeaxis {
        .b-sch-header-row-0 .b-sch-header-timeaxis-cell {
            color : #1f88e5;
        }

        .b-sch-header-row-1,
        .b-sch-header-row-2 {
            .b-sch-header-timeaxis-cell:hover {
                color : #000;
            }
        }
    }

    .b-column-line {
        filter : brightness(.97);
    }

    .b-grid-cell {
        color : #444;
    }

    .b-tree-parent-row .b-grid-cell {
        color : #333;
    }

    .b-column-line-major {
        border-color : #d8d9da;
    }

    .b-grid-headers-locked .b-grid-header {
        background : transparent;
        color      : #000;
    }

    .b-resource-avatar {
        border : 1px solid #fff;
    }

    .b-gantt-task-wrap:not(.b-gantt-task-parent) .b-gantt-task:not(.b-milestone) {
        filter : drop-shadow(1px 2px 4px #ddd);
    }

    .b-sidebar {
        border-color : #e5e5e8;
    }

    .b-scroll-button {
        background : #fff;
        box-shadow : 0 1px 7px 0 rgba(60, 64, 67, .3), 0 1px 3px 1px rgba(60, 64, 67, .3);
        color      : #777;

        &:hover {
            color : #333;
        }
    }

    .b-gantt-task-tooltip {
        &, .b-panel-body-wrap {
            background-color : #fff;
        }
    }

    .field {
        span {
            color : #333;
        }
    }
}

.b-gantt-task-content {
    padding : 0 0.6em;
}

.b-gantt-task-wrap:not(.b-gantt-task-parent) .b-gantt-task:not(.b-milestone) {
    align-items : flex-start;

    .b-task-percent-bar-outer {
        .b-task-percent-bar {
            background-color : rgba(0, 0, 0, 0.2);
        }
    }

    .b-gantt-task-content {
        overflow        : visible;
        height          : 100%;
        display         : flex;
        flex-direction  : column;
        justify-content : space-evenly;

        img {
            border-radius     : 100%;
            border-color      : inherit;
            margin-inline-end : -.5em;
            transition        : transform .4s;
        }

        img:hover {
            transform : scale(2);
            z-index   : 1;
        }
    }
}

.b-sch-header-timeaxis-cell {
    padding : 0;

    .b-sch-header-row-0 & {
        font-size   : .7em;
        padding-top : .5em;
        align-items : flex-start;
    }

    .b-sch-header-row-1 & {
        font-size : 1.1em;
    }

    .b-sch-header-row-2 & {
        font-size   : .7em;
        font-weight : normal;
    }
}

.b-horizontaltimeaxis {
    .b-sch-header-row-0 {
        flex : 1 0 3em;
    }

    .b-sch-header-row-1,
    .b-sch-header-row-2 {
        flex : 1 0 1.5em;
    }
}

.b-avatar-container {
    display     : flex;
    align-items : flex-end;
}

.b-gantt-task {
    .b-avatar-container {
        height : 0;

        img {
            height : inherit;
            width  : 2em;
        }
    }
}

.b-show-avatars-in-task {
    .b-avatar-container {
        height         : 2em;
        flex           : 1;
        padding-bottom : 0.5em;
    }

    .taskName {
        padding-top : .5em;
    }
}

.taskName {
    flex      : 1;
    display   : flex;
    font-size : .9em;
    padding   : 0.5em 0;
}


div.b-sch-line {
    .b-grid-header &.b-sch-timerange {
        background-color    : var(--color-deep-orange);
        height              : 0.7em !important;
        width               : 0.7em !important;
        border-radius       : 50%;
        margin-inline-start : -0.38em;
        bottom              : 0;
        padding             : 0;
    }

    .b-timeline-subgrid & {
        border-inline-start : 1px solid var(--color-deep-orange);
    }
}

.b-gantt-task-tooltip {
    max-width : none;

    .b-panel-content {
        display               : grid;
        grid-template-columns : 15em auto;
        grid-column-gap       : 2em;
        grid-row-gap          : 2em;
    }

    .field {
        display        : flex;
        flex-direction : column;
        font-weight    : 500;

        label {
            margin-bottom : 0.5em;
            color         : #888;
        }
    }

    .b-avatar-container {
        display : flex;
        gap     : 0.3em;
    }
}

.b-gantt-task-tooltip {
    &,
    > .b-panel-body-wrap > .b-panel-content {
        border-radius : .5em !important;
    }

    .b-panel-content {
        padding : 2em !important;
        margin  : 0 !important;
    }
}

.b-sidebar {
    border-inline-start : 2px solid;

    h2 {
        font-weight : 600;
        font-size   : 1.3em;
        margin      : 0;
    }

    .b-panel-content {
        gap     : 2em;
        padding : 1.5em;
    }

    .b-field {
        height : 3em;
    }

    label {
        margin-inline-start : 0 !important;
        margin-inline-end   : 1em;
        text-transform      : none;
        font-size           : 1em;
        flex                : 1;
        text-align          : start;
        font-weight         : 500;
    }

    .b-slider {
        flex-direction : column-reverse;
    }

    .b-widget {
        align-items : flex-start;
        height      : auto;
    }
}

.b-gantt.b-animating {
    .b-grid-row,
    .b-avatar-container,
    .b-percentdone-circle {
        transition : all .4s;
    }

    .b-grid-row,
    .b-gantt-task-wrap,
    .b-avatar-container {
        transition-duration : .4s !important;
    }
}

.b-toolbar .b-fa-bars {
    font-size     : 1.3em;
    padding       : 0 1em;
    min-height    : 0;
    border-radius : .5em;
}

.b-percentdone-circle::after {
    color : inherit;
}

.b-scroll-button {
    display         : flex;
    align-items     : center;
    justify-content : center;
    position        : absolute;
    top             : 50%;
    margin-top      : -1em;
    padding         : 1em;
    border-radius   : 50%;

    width           : 2.5em;
    height          : 2.5em;
    z-index         : 2;
    pointer-events  : none;
    opacity         : 0;
    transition      : opacity .4s;
    cursor          : pointer;

    .b-grid-header-scroller:hover & {
        opacity        : 1;
        pointer-events : all;
    }
}

.b-scroll-button-previous {
    inset-inline-start : 0.5em;
}

.b-scroll-button-next {
    inset-inline-end : 0.5em;
}

.b-rtl {
    .b-scroll-button {
        transform : rotate(180deg);
    }

    .b-grid-header &.b-sch-timerange {
        margin-inline-end : 0.30em;
    }
}
